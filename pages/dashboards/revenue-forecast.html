<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="apple-touch-icon" sizes="76x76" href="../../assets/img/apple-icon.png">
  <link rel="icon" type="image/png" href="../../assets/img/favicon.png">
  <title>
    Revenue Forecast - Material Dashboard 2 PRO
  </title>
  <!--     Fonts and icons     -->
  <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Inter:300,400,500,600,700,900" />
  <!-- Nucleo Icons -->
  <link href="../../assets/css/nucleo-icons.css" rel="stylesheet" />
  <link href="../../assets/css/nucleo-svg.css" rel="stylesheet" />
  <!-- Font Awesome Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.1/css/all.min.css" integrity="sha512-5Hs3dF2AEPkpNAR7UiOHba+lRSJNeM2ECkwxUIxC1Q/FLycGTbNapWXB4tP889k5T5Ju8fs4b1P5z/iB4nMfSQ==" crossorigin="anonymous" referrerpolicy="no-referrer">
  <!-- Material Icons -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,0,0" />
  <!-- CSS Files -->
  <link id="pagestyle" href="../../assets/css/material-dashboard.css?v=3.1.0" rel="stylesheet" />
  <!-- Custom Dashboard Overrides -->
  <link href="../../assets/css/custom-dashboard.css" rel="stylesheet" />
</head>

<body class="bg-gray-100">
  <main class="main-content position-relative max-height-vh-100 h-100">
    <!-- Navbar -->
    <nav class="navbar navbar-main navbar-expand-lg px-0 mx-3 shadow-none border-radius-xl" id="navbarBlur" navbar-scroll="true">
      <div class="container-fluid py-1 px-3">
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb bg-transparent mb-0 pb-0 pt-1 px-0 me-sm-6 me-5">
            <li class="breadcrumb-item text-sm"><a class="opacity-5 text-dark" href="javascript:;">Pages</a></li>
            <li class="breadcrumb-item text-sm text-dark active" aria-current="page">Revenue Forecast</li>
          </ol>
          <h6 class="font-weight-bolder mb-0">Revenue Forecast</h6>
        </nav>
        <div class="collapse navbar-collapse mt-sm-0 mt-2 me-md-0 me-sm-4" id="navbar">
          <div class="ms-md-auto pe-md-3 d-flex align-items-center">
            <!-- Action buttons -->
            <div class="d-flex align-items-center">
              <button class="btn btn-outline-primary btn-sm mb-0 me-2" style="border-color: #2196f3; color: #2196f3;" onmouseover="this.style.backgroundColor='#2196f3'; this.style.color='white';" onmouseout="this.style.backgroundColor='transparent'; this.style.color='#2196f3';">
                <i class="fas fa-sync-alt me-1"></i> Sync with Tywin
              </button>
              <button class="btn btn-outline-primary btn-sm mb-0 me-2" style="border-color: #2196f3; color: #2196f3;" onmouseover="this.style.backgroundColor='#2196f3'; this.style.color='white';" onmouseout="this.style.backgroundColor='transparent'; this.style.color='#2196f3';">
                <i class="fas fa-calendar me-1"></i> Calendar Settings
              </button>
              <button class="btn btn-sm mb-0 text-white" style="background-color: #4caf50; border: none;" onmouseover="this.style.backgroundColor='#388e3c';" onmouseout="this.style.backgroundColor='#4caf50';">
                <i class="fas fa-download me-1"></i> Export to Excel
              </button>
            </div>
          </div>
        </div>
      </div>
    </nav>
    <!-- End Navbar -->

    <div class="container-fluid py-2">
      <div class="row">
        <div class="col-12">
          <!-- Header Card -->
          <div class="card mb-4">
            <div class="card-header pb-0 p-3">
              <div class="row">
                <div class="col-6 d-flex align-items-center">
                  <h6 class="mb-0">High-level monthly/weekly forecast</h6>
                </div>
              </div>
            </div>
          </div>

          <!-- Week Selector Tabs -->
          <div class="card">
            <div class="card-header pb-0 px-3">
              <ul class="nav nav-tabs nav-fill" role="tablist">
                <li class="nav-item">
                  <a class="nav-link active" data-bs-toggle="tab" href="#week-1" role="tab" aria-controls="week-1" aria-selected="true">
                    <span class="font-weight-bold">W+1</span>
                    <span class="badge ms-2 text-white" style="background-color: #2196f3;">Focus</span>
                  </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" data-bs-toggle="tab" href="#week-2" role="tab" aria-controls="week-2" aria-selected="false">
                    W+2
                  </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" data-bs-toggle="tab" href="#week-3" role="tab" aria-controls="week-3" aria-selected="false">
                    W+3
                  </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" data-bs-toggle="tab" href="#week-4" role="tab" aria-controls="week-4" aria-selected="false">
                    W+4
                  </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" data-bs-toggle="tab" href="#week-5" role="tab" aria-controls="week-5" aria-selected="false">
                    W+5
                  </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" data-bs-toggle="tab" href="#weekly-progress" role="tab" aria-controls="weekly-progress" aria-selected="false">
                    <i class="material-symbols-rounded me-2">trending_up</i>
                    Weekly Progress
                  </a>
                </li>
              </ul>
            </div>
            <div class="card-body px-0 pb-2">
              <div class="tab-content">
                <!-- Week 1 Tab -->
                <div class="tab-pane fade show active" id="week-1" role="tabpanel">
                  <div class="p-3">
                    <div class="row week-header">
                      <div class="col-lg-8">
                        <h4 class="mb-0">Week W+1: Jun 2 - Jun 8, 2025</h4>
                        <p class="text-sm text-muted mb-0">Next week's monitoring reference point • <span class="text-primary font-weight-bold">Tywin variance: <span class="tywin-variance">+3.8%</span></span></p>
                      </div>
                      <div class="col-lg-4 text-lg-end">
                        <h3 class="mb-0 week-revenue">$18.75M</h3>
                        <p class="text-sm text-success font-weight-bold mb-0 week-change">+5.2% vs last week</p>
                      </div>
                    </div>
                    
                    <!-- Revenue Summary Cards -->
                    <div class="row mt-4">
                      <div class="col-lg-6">
                        <div class="card">
                          <div class="card-header pb-0 p-3">
                            <h6 class="mb-0">Revenue by Category</h6>
                          </div>
                          <div class="card-body p-3">
                            <div id="category-breakdown-1" class="category-list">
                              <!-- Categories will be populated by JavaScript -->
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col-lg-6">
                        <div class="card">
                          <div class="card-header pb-0 p-3">
                            <h6 class="mb-0">Daily Revenue Forecast</h6>
                          </div>
                          <div class="card-body p-3">
                            <canvas id="daily-chart-1" class="chart-canvas" height="250"></canvas>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                
                <!-- Other week tabs -->
                <div class="tab-pane fade" id="week-2" role="tabpanel">
                  <div class="p-3">
                    <div class="row week-header">
                      <div class="col-lg-8">
                        <h4 class="mb-0">Week W+2: Jun 9 - Jun 15, 2025</h4>
                        <p class="text-sm text-muted mb-0">Next week's monitoring reference point • <span class="text-primary font-weight-bold">Tywin variance: <span class="tywin-variance">+1.2%</span></span></p>
                      </div>
                      <div class="col-lg-4 text-lg-end">
                        <h3 class="mb-0 week-revenue">$17.89M</h3>
                        <p class="text-sm text-danger font-weight-bold mb-0 week-change">-4.6% vs last week</p>
                      </div>
                    </div>
                    
                    <div class="row mt-4">
                      <div class="col-lg-6">
                        <div class="card">
                          <div class="card-header pb-0 p-3">
                            <h6 class="mb-0">Revenue by Category</h6>
                          </div>
                          <div class="card-body p-3">
                            <div id="category-breakdown-2" class="category-list"></div>
                          </div>
                        </div>
                      </div>
                      <div class="col-lg-6">
                        <div class="card">
                          <div class="card-header pb-0 p-3">
                            <h6 class="mb-0">Daily Revenue Forecast</h6>
                          </div>
                          <div class="card-body p-3">
                            <canvas id="daily-chart-2" class="chart-canvas" height="250"></canvas>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                
                <div class="tab-pane fade" id="week-3" role="tabpanel">
                  <div class="p-3">
                    <div class="row week-header">
                      <div class="col-lg-8">
                        <h4 class="mb-0">Week W+3: Jun 16 - Jun 22, 2025</h4>
                        <p class="text-sm text-muted mb-0">Next week's monitoring reference point • <span class="text-primary font-weight-bold">Tywin variance: <span class="tywin-variance">+2.9%</span></span></p>
                      </div>
                      <div class="col-lg-4 text-lg-end">
                        <h3 class="mb-0 week-revenue">$19.24M</h3>
                        <p class="text-sm text-success font-weight-bold mb-0 week-change">+7.5% vs last week</p>
                      </div>
                    </div>
                    
                    <div class="row mt-4">
                      <div class="col-lg-6">
                        <div class="card">
                          <div class="card-header pb-0 p-3">
                            <h6 class="mb-0">Revenue by Category</h6>
                          </div>
                          <div class="card-body p-3">
                            <div id="category-breakdown-3" class="category-list"></div>
                          </div>
                        </div>
                      </div>
                      <div class="col-lg-6">
                        <div class="card">
                          <div class="card-header pb-0 p-3">
                            <h6 class="mb-0">Daily Revenue Forecast</h6>
                          </div>
                          <div class="card-body p-3">
                            <canvas id="daily-chart-3" class="chart-canvas" height="250"></canvas>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                
                <div class="tab-pane fade" id="week-4" role="tabpanel">
                  <div class="p-3">
                    <div class="row week-header">
                      <div class="col-lg-8">
                        <h4 class="mb-0">Week W+4: Jun 23 - Jun 29, 2025</h4>
                        <p class="text-sm text-muted mb-0">Next week's monitoring reference point • <span class="text-primary font-weight-bold">Tywin variance: <span class="tywin-variance">+5.1%</span></span></p>
                      </div>
                      <div class="col-lg-4 text-lg-end">
                        <h3 class="mb-0 week-revenue">$20.15M</h3>
                        <p class="text-sm text-success font-weight-bold mb-0 week-change">+4.8% vs last week</p>
                      </div>
                    </div>
                    
                    <div class="row mt-4">
                      <div class="col-lg-6">
                        <div class="card">
                          <div class="card-header pb-0 p-3">
                            <h6 class="mb-0">Revenue by Category</h6>
                          </div>
                          <div class="card-body p-3">
                            <div id="category-breakdown-4" class="category-list"></div>
                          </div>
                        </div>
                      </div>
                      <div class="col-lg-6">
                        <div class="card">
                          <div class="card-header pb-0 p-3">
                            <h6 class="mb-0">Daily Revenue Forecast</h6>
                          </div>
                          <div class="card-body p-3">
                            <canvas id="daily-chart-4" class="chart-canvas" height="250"></canvas>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                
                <div class="tab-pane fade" id="week-5" role="tabpanel">
                  <div class="p-3">
                    <div class="row week-header">
                      <div class="col-lg-8">
                        <h4 class="mb-0">Week W+5: Jun 30 - Jul 6, 2025</h4>
                        <p class="text-sm text-muted mb-0">Next week's monitoring reference point • <span class="text-primary font-weight-bold">Tywin variance: <span class="tywin-variance">+0.7%</span></span></p>
                      </div>
                      <div class="col-lg-4 text-lg-end">
                        <h3 class="mb-0 week-revenue">$18.98M</h3>
                        <p class="text-sm text-danger font-weight-bold mb-0 week-change">-5.8% vs last week</p>
                      </div>
                    </div>
                    
                    <div class="row mt-4">
                      <div class="col-lg-6">
                        <div class="card">
                          <div class="card-header pb-0 p-3">
                            <h6 class="mb-0">Revenue by Category</h6>
                          </div>
                          <div class="card-body p-3">
                            <div id="category-breakdown-5" class="category-list"></div>
                          </div>
                        </div>
                      </div>
                      <div class="col-lg-6">
                        <div class="card">
                          <div class="card-header pb-0 p-3">
                            <h6 class="mb-0">Daily Revenue Forecast</h6>
                          </div>
                          <div class="card-body p-3">
                            <canvas id="daily-chart-5" class="chart-canvas" height="250"></canvas>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                
                <!-- Weekly Progress Tab -->
                <div class="tab-pane fade" id="weekly-progress" role="tabpanel">
                  <div class="p-3">
                    <div class="row mb-4">
                      <div class="col-12">
                        <h4 class="mb-1">Weekly Progress & Forecast</h4>
                        <p class="text-sm text-muted">Historical performance and future forecast across all weeks</p>
                      </div>
                    </div>
                    
                    <div class="card">
                      <div class="card-body p-3">
                        <canvas id="weekly-progress-chart" class="chart-canvas" height="300"></canvas>
                      </div>
                    </div>
                    
                    <!-- Summary Stats -->
                    <div class="row mt-4">
                      <div class="col-lg-3 col-sm-6">
                        <div class="card">
                          <div class="card-body p-3">
                            <p class="text-sm mb-0 text-capitalize font-weight-bold">12-Week Historical Avg</p>
                            <h4 class="font-weight-bolder mb-0">$16.7M</h4>
                            <p class="text-xs text-secondary mb-0">Steady growth trend</p>
                          </div>
                        </div>
                      </div>
                      <div class="col-lg-3 col-sm-6">
                        <div class="card">
                          <div class="card-body p-3">
                            <p class="text-sm mb-0 text-capitalize font-weight-bold">5-Week Forecast Avg</p>
                            <h4 class="font-weight-bolder mb-0">$18.9M</h4>
                            <p class="text-xs text-success mb-0">+13.2% vs historical</p>
                          </div>
                        </div>
                      </div>
                      <div class="col-lg-3 col-sm-6">
                        <div class="card">
                          <div class="card-body p-3">
                            <p class="text-sm mb-0 text-capitalize font-weight-bold">Growth Rate</p>
                            <h4 class="font-weight-bolder mb-0 text-success">+2.3%</h4>
                            <p class="text-xs text-secondary mb-0">Week-over-week avg</p>
                          </div>
                        </div>
                      </div>
                      <div class="col-lg-3 col-sm-6">
                        <div class="card">
                          <div class="card-body p-3">
                            <p class="text-sm mb-0 text-capitalize font-weight-bold">Peak Week</p>
                            <h4 class="font-weight-bolder mb-0">W+4</h4>
                            <p class="text-xs text-secondary mb-0">$20.15M projected</p>
                          </div>
                        </div>
                      </div>
                    </div>
                    
                    <div class="row mt-4">
                      <div class="col-12">
                        <div class="card">
                          <div class="card-body p-3">
                            <div class="d-flex align-items-center justify-center gap-4">
                              <div class="d-flex align-items-center me-4">
                                <div style="width: 20px; height: 12px; border-radius: 2px; background-color: #6c757d;"></div>
                                <span class="ms-2 text-sm">Historical (12 weeks)</span>
                              </div>
                              <div class="d-flex align-items-center me-4">
                                <div style="width: 20px; height: 12px; border-radius: 2px; background-color: #212529;"></div>
                                <span class="ms-2 text-sm">Current Week</span>
                              </div>
                              <div class="d-flex align-items-center">
                                <div style="width: 20px; height: 12px; border-radius: 2px; background-color: #2196f3;"></div>
                                <span class="ms-2 text-sm">Forecast (5 weeks)</span>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Category Deep Dive Section (W+1 Focus) -->
      <div class="row mt-4">
        <div class="col-12">
          <div class="card">
            <div class="card-header pb-0 px-3">
              <div class="row">
                <div class="col-6">
                  <h5 class="mb-0">Week W+1 Category Deep Dive</h5>
                  <p class="text-sm text-muted mb-0">Detailed daily forecast by product category</p>
                </div>
              </div>
              <ul class="nav nav-tabs nav-fill mt-3" role="tablist">
                <li class="nav-item">
                  <a class="nav-link active" data-bs-toggle="tab" href="#cat-mx" role="tab" aria-selected="true">
                    MX Series
                  </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" data-bs-toggle="tab" href="#cat-gaming" role="tab" aria-selected="false">
                    G Series Gaming
                  </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" data-bs-toggle="tab" href="#cat-business" role="tab" aria-selected="false">
                    Business Solutions
                  </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" data-bs-toggle="tab" href="#cat-webcams" role="tab" aria-selected="false">
                    Webcams
                  </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" data-bs-toggle="tab" href="#cat-other" role="tab" aria-selected="false">
                    Other
                  </a>
                </li>
              </ul>
            </div>
            <div class="card-body px-0 pb-2">
              <div class="tab-content">
                <!-- MX Series Tab -->
                <div class="tab-pane fade show active" id="cat-mx" role="tabpanel">
                  <div class="p-3">
                    <div class="row">
                      <div class="col-lg-8">
                        <h6 class="mb-0">MX Series</h6>
                        <p class="text-sm text-muted">Daily forecast for Jun 2 - Jun 8, 2025</p>
                      </div>
                      <div class="col-lg-4 text-lg-end">
                        <h5 class="mb-0">$4.69M</h5>
                        <p class="text-sm text-success mb-0">+8.2% vs last week</p>
                      </div>
                    </div>
                    
                    <div class="row mt-4">
                      <div class="col-lg-8">
                        <div class="card">
                          <div class="card-header pb-0 p-3">
                            <h6 class="mb-0">Daily Revenue Pattern</h6>
                          </div>
                          <div class="card-body p-3">
                            <canvas id="cat-chart-mx" class="chart-canvas" height="200"></canvas>
                          </div>
                        </div>
                      </div>
                      <div class="col-lg-4">
                        <div class="card h-100">
                          <div class="card-header pb-0 p-3">
                            <h6 class="mb-0">Key Metrics</h6>
                          </div>
                          <div class="card-body p-3">
                            <div class="mb-3">
                              <p class="text-xs text-secondary mb-1">Avg Daily Revenue</p>
                              <h6 class="mb-0">$669K</h6>
                            </div>
                            <div class="mb-3">
                              <p class="text-xs text-secondary mb-1">Peak Day</p>
                              <h6 class="mb-0">Friday</h6>
                            </div>
                            <div class="mb-3">
                              <p class="text-xs text-secondary mb-1">Weekend Impact</p>
                              <h6 class="mb-0 text-danger">-30.5%</h6>
                            </div>
                            <div class="mb-3">
                              <p class="text-xs text-secondary mb-1">Conversion Rate</p>
                              <h6 class="mb-0 text-success">3.2%</h6>
                            </div>
                            <hr class="horizontal dark my-3">
                            <p class="text-xs text-secondary mb-2">Top Products</p>
                            <div class="text-xs">
                              <div class="badge me-1 mb-1 text-white" style="background-color: #2196f3;">MX Master 3S</div>
                              <div class="badge me-1 mb-1 text-white" style="background-color: #2196f3;">MX Keys</div>
                              <div class="badge me-1 mb-1 text-white" style="background-color: #2196f3;">MX Anywhere 3</div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                
                <!-- G Series Gaming Tab -->
                <div class="tab-pane fade" id="cat-gaming" role="tabpanel">
                  <div class="p-3">
                    <div class="row">
                      <div class="col-lg-8">
                        <h6 class="mb-0">G Series Gaming</h6>
                        <p class="text-sm text-muted">Daily forecast for Jun 2 - Jun 8, 2025</p>
                      </div>
                      <div class="col-lg-4 text-lg-end">
                        <h5 class="mb-0">$5.62M</h5>
                        <p class="text-sm text-success mb-0">+12.5% vs last week</p>
                      </div>
                    </div>
                    
                    <div class="row mt-4">
                      <div class="col-lg-8">
                        <div class="card">
                          <div class="card-header pb-0 p-3">
                            <h6 class="mb-0">Daily Revenue Pattern</h6>
                          </div>
                          <div class="card-body p-3">
                            <canvas id="cat-chart-gaming" class="chart-canvas" height="200"></canvas>
                          </div>
                        </div>
                      </div>
                      <div class="col-lg-4">
                        <div class="card h-100">
                          <div class="card-header pb-0 p-3">
                            <h6 class="mb-0">Key Metrics</h6>
                          </div>
                          <div class="card-body p-3">
                            <div class="mb-3">
                              <p class="text-xs text-secondary mb-1">Avg Daily Revenue</p>
                              <h6 class="mb-0">$803K</h6>
                            </div>
                            <div class="mb-3">
                              <p class="text-xs text-secondary mb-1">Peak Day</p>
                              <h6 class="mb-0">Friday</h6>
                            </div>
                            <div class="mb-3">
                              <p class="text-xs text-secondary mb-1">Weekend Impact</p>
                              <h6 class="mb-0 text-danger">-30.6%</h6>
                            </div>
                            <div class="mb-3">
                              <p class="text-xs text-secondary mb-1">Conversion Rate</p>
                              <h6 class="mb-0 text-success">2.8%</h6>
                            </div>
                            <hr class="horizontal dark my-3">
                            <p class="text-xs text-secondary mb-2">Top Products</p>
                            <div class="text-xs">
                              <div class="badge me-1 mb-1 text-white" style="background-color: #2196f3;">G PRO X SUPERLIGHT 2</div>
                              <div class="badge me-1 mb-1 text-white" style="background-color: #2196f3;">G502 X</div>
                              <div class="badge me-1 mb-1 text-white" style="background-color: #2196f3;">G915 TKL</div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                
                <!-- Placeholder for other category tabs -->
                <div class="tab-pane fade" id="cat-business" role="tabpanel">
                  <div class="p-3">
                    <h6>Business Solutions content coming soon...</h6>
                  </div>
                </div>
                <div class="tab-pane fade" id="cat-webcams" role="tabpanel">
                  <div class="p-3">
                    <h6>Webcams content coming soon...</h6>
                  </div>
                </div>
                <div class="tab-pane fade" id="cat-other" role="tabpanel">
                  <div class="p-3">
                    <h6>Other products content coming soon...</h6>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Collapsible Sections -->
      <div class="row mt-4">
        <div class="col-12">
          <!-- Data Integration Status -->
          <div class="card mb-3">
            <div class="card-header p-3 pb-0">
              <a class="d-block w-100" data-bs-toggle="collapse" href="#dataIntegration" role="button" aria-expanded="false" aria-controls="dataIntegration">
                <div class="d-flex align-items-center justify-content-between">
                  <h6 class="mb-0">Data Integration Status</h6>
                  <i class="material-symbols-rounded">expand_more</i>
                </div>
              </a>
            </div>
            <div class="collapse" id="dataIntegration">
              <div class="card-body pt-0">
                <div class="alert alert-info mb-0" role="alert">
                  <div class="d-flex align-items-center">
                    <i class="material-symbols-rounded me-3">info</i>
                    <div>
                      <div class="d-flex align-items-center mb-2">
                        <div class="badge badge-dot me-3">
                          <i class="bg-success"></i>
                          <span class="text-dark text-xs">Historical revenue data: Last updated 2 hours ago</span>
                        </div>
                      </div>
                      <div class="d-flex align-items-center mb-2">
                        <div class="badge badge-dot me-3">
                          <i class="bg-success"></i>
                          <span class="text-dark text-xs">Calendar integration: Special dates loaded</span>
                        </div>
                      </div>
                      <div class="d-flex align-items-center">
                        <div class="badge badge-dot me-3">
                          <i class="bg-warning"></i>
                          <span class="text-dark text-xs">Tywin sync: Last comparison 6 hours ago</span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Historical Context -->
          <div class="card">
            <div class="card-header p-3 pb-0">
              <a class="d-block w-100" data-bs-toggle="collapse" href="#historicalContext" role="button" aria-expanded="false" aria-controls="historicalContext">
                <div class="d-flex align-items-center justify-content-between">
                  <h6 class="mb-0">Historical Context & Forecast Accuracy</h6>
                  <i class="material-symbols-rounded">expand_more</i>
                </div>
              </a>
            </div>
            <div class="collapse" id="historicalContext">
              <div class="card-body pt-0">
                <div class="row">
                  <div class="col-lg-4 col-sm-6 mb-lg-0 mb-4">
                    <div class="card">
                      <div class="card-body p-3">
                        <div class="row">
                          <div class="col-8">
                            <div class="numbers">
                              <p class="text-sm mb-0 text-capitalize font-weight-bold">Last Week Accuracy</p>
                              <h5 class="font-weight-bolder mb-0 text-success">
                                96.8%
                              </h5>
                              <span class="text-xs">vs Tywin actuals</span>
                            </div>
                          </div>
                          <div class="col-4 text-end">
                            <div class="icon icon-shape shadow text-center border-radius-md" style="background-color: #4caf50;">
                              <i class="material-symbols-rounded text-lg opacity-10 text-white" aria-hidden="true">check_circle</i>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-lg-4 col-sm-6 mb-lg-0 mb-4">
                    <div class="card">
                      <div class="card-body p-3">
                        <div class="row">
                          <div class="col-8">
                            <div class="numbers">
                              <p class="text-sm mb-0 text-capitalize font-weight-bold">30-Day Avg Accuracy</p>
                              <h5 class="font-weight-bolder mb-0 text-info">
                                94.2%
                              </h5>
                              <span class="text-xs">Rolling average</span>
                            </div>
                          </div>
                          <div class="col-4 text-end">
                            <div class="icon icon-shape shadow text-center border-radius-md" style="background-color: #2196f3;">
                              <i class="material-symbols-rounded text-lg opacity-10 text-white" aria-hidden="true">analytics</i>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-lg-4 col-sm-6">
                    <div class="card">
                      <div class="card-body p-3">
                        <div class="row">
                          <div class="col-8">
                            <div class="numbers">
                              <p class="text-sm mb-0 text-capitalize font-weight-bold">Special Events Impact</p>
                              <h5 class="font-weight-bolder mb-0 text-warning">
                                +12.5%
                              </h5>
                              <span class="text-xs">Average lift</span>
                            </div>
                          </div>
                          <div class="col-4 text-end">
                            <div class="icon icon-shape shadow text-center border-radius-md" style="background-color: #ff9800;">
                              <i class="material-symbols-rounded text-lg opacity-10 text-white" aria-hidden="true">event</i>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <footer class="footer py-4">
      <div class="container-fluid">
        <div class="row align-items-center justify-content-lg-between">
          <div class="col-lg-6 mb-lg-0 mb-4">
            <div class="copyright text-center text-sm text-muted text-lg-start">
              © <script>document.write(new Date().getFullYear())</script>,
              made with <i class="fa fa-heart"></i> by
              <a href="https://www.creative-tim.com" class="font-weight-bold" target="_blank">Creative Tim</a>
              for a better web.
            </div>
          </div>
        </div>
      </div>
    </footer>
  </main>

  <!--   Core JS Files   -->
  <script src="../../assets/js/core/popper.min.js"></script>
  <script src="../../assets/js/core/bootstrap.min.js"></script>
  <script src="../../assets/js/plugins/perfect-scrollbar.min.js"></script>
  <script src="../../assets/js/plugins/smooth-scrollbar.min.js"></script>
  <script src="../../assets/js/plugins/chartjs.min.js"></script>
  <script src="../../assets/js/dashboard-config.js"></script>
  
  <script>
    // Forecast data
    const forecastData = {
      'W+1': {
        weekRange: 'Jun 2 - Jun 8, 2025',
        revenue: 18745000,
        change: '+5.2%',
        vsTypin: '+3.8%',
        categories: [
          { name: 'MX Series', revenue: 4686250, change: '+8.2%' },
          { name: 'G Series Gaming', revenue: 5623500, change: '+12.5%' },
          { name: 'Business Solutions', revenue: 3749000, change: '-2.1%' },
          { name: 'Webcams', revenue: 2811750, change: '+4.7%' },
          { name: 'Other', revenue: 1874500, change: '-1.3%' }
        ],
        daily: [
          { day: 'Mon', date: 'Jun 2', revenue: 2249400, special: null },
          { day: 'Tue', date: 'Jun 3', revenue: 2436850, special: null },
          { day: 'Wed', date: 'Jun 4', revenue: 2811750, special: 'Apple WWDC' },
          { day: 'Thu', date: 'Jun 5', revenue: 3186650, special: 'Apple WWDC' },
          { day: 'Fri', date: 'Jun 6', revenue: 3374100, special: null },
          { day: 'Sat', date: 'Jun 7', revenue: 2343125, special: null },
          { day: 'Sun', date: 'Jun 8', revenue: 2343125, special: null }
        ]
      },
      'W+2': {
        weekRange: 'Jun 9 - Jun 15, 2025',
        revenue: 17890000,
        change: '-4.6%',
        vsTypin: '+1.2%',
        categories: [
          { name: 'MX Series', revenue: 4472500, change: '+3.1%' },
          { name: 'G Series Gaming', revenue: 5367000, change: '+7.8%' },
          { name: 'Business Solutions', revenue: 3578000, change: '-5.3%' },
          { name: 'Webcams', revenue: 2683500, change: '+2.1%' },
          { name: 'Other', revenue: 1789000, change: '-3.7%' }
        ],
        daily: [
          { day: 'Mon', date: 'Jun 9', revenue: 2146800, special: null },
          { day: 'Tue', date: 'Jun 10', revenue: 2325700, special: null },
          { day: 'Wed', date: 'Jun 11', revenue: 2683500, special: null },
          { day: 'Thu', date: 'Jun 12', revenue: 3041300, special: 'E3 Gaming Expo' },
          { day: 'Fri', date: 'Jun 13', revenue: 3220200, special: 'E3 Gaming Expo' },
          { day: 'Sat', date: 'Jun 14', revenue: 2236250, special: null },
          { day: 'Sun', date: 'Jun 15', revenue: 2236250, special: null }
        ]
      },
      'W+3': {
        weekRange: 'Jun 16 - Jun 22, 2025',
        revenue: 19235000,
        change: '+7.5%',
        vsTypin: '+2.9%',
        categories: [
          { name: 'MX Series', revenue: 4808750, change: '+6.8%' },
          { name: 'G Series Gaming', revenue: 5770500, change: '+15.2%' },
          { name: 'Business Solutions', revenue: 3847000, change: '+3.4%' },
          { name: 'Webcams', revenue: 2885250, change: '+5.9%' },
          { name: 'Other', revenue: 1923500, change: '+1.2%' }
        ],
        daily: [
          { day: 'Mon', date: 'Jun 16', revenue: 2308200, special: null },
          { day: 'Tue', date: 'Jun 17', revenue: 2500550, special: null },
          { day: 'Wed', date: 'Jun 18', revenue: 2885250, special: null },
          { day: 'Thu', date: 'Jun 19', revenue: 3269950, special: null },
          { day: 'Fri', date: 'Jun 20', revenue: 3462300, special: 'Summer Sale Start' },
          { day: 'Sat', date: 'Jun 21', revenue: 2404375, special: null },
          { day: 'Sun', date: 'Jun 22', revenue: 2404375, special: null }
        ]
      },
      'W+4': {
        weekRange: 'Jun 23 - Jun 29, 2025',
        revenue: 20150000,
        change: '+4.8%',
        vsTypin: '+5.1%',
        categories: [
          { name: 'MX Series', revenue: 5037500, change: '+9.2%' },
          { name: 'G Series Gaming', revenue: 6045000, change: '+18.7%' },
          { name: 'Business Solutions', revenue: 4030000, change: '+7.8%' },
          { name: 'Webcams', revenue: 3022500, change: '+8.3%' },
          { name: 'Other', revenue: 2015000, change: '+4.6%' }
        ],
        daily: [
          { day: 'Mon', date: 'Jun 23', revenue: 2418000, special: null },
          { day: 'Tue', date: 'Jun 24', revenue: 2619500, special: null },
          { day: 'Wed', date: 'Jun 25', revenue: 3022500, special: null },
          { day: 'Thu', date: 'Jun 26', revenue: 3425500, special: null },
          { day: 'Fri', date: 'Jun 27', revenue: 3627000, special: null },
          { day: 'Sat', date: 'Jun 28', revenue: 2518750, special: null },
          { day: 'Sun', date: 'Jun 29', revenue: 2518750, special: null }
        ]
      },
      'W+5': {
        weekRange: 'Jun 30 - Jul 6, 2025',
        revenue: 18975000,
        change: '-5.8%',
        vsTypin: '+0.7%',
        categories: [
          { name: 'MX Series', revenue: 4743750, change: '+2.3%' },
          { name: 'G Series Gaming', revenue: 5692500, change: '+11.4%' },
          { name: 'Business Solutions', revenue: 3795000, change: '-1.2%' },
          { name: 'Webcams', revenue: 2846250, change: '+3.7%' },
          { name: 'Other', revenue: 1897500, change: '-2.1%' }
        ],
        daily: [
          { day: 'Mon', date: 'Jun 30', revenue: 2277000, special: null },
          { day: 'Tue', date: 'Jul 1', revenue: 2466750, special: null },
          { day: 'Wed', date: 'Jul 2', revenue: 2846250, special: null },
          { day: 'Thu', date: 'Jul 3', revenue: 3225750, special: null },
          { day: 'Fri', date: 'Jul 4', revenue: 1897500, special: 'US Holiday' },
          { day: 'Sat', date: 'Jul 5', revenue: 2656875, special: null },
          { day: 'Sun', date: 'Jul 6', revenue: 2604875, special: null }
        ]
      }
    };

    // Weekly progress data for the progress chart
    const weeklyProgressData = [
      { week: 'W-12', revenue: 16100000, type: 'historical' },
      { week: 'W-11', revenue: 15900000, type: 'historical' },
      { week: 'W-10', revenue: 16200000, type: 'historical' },
      { week: 'W-9', revenue: 16500000, type: 'historical' },
      { week: 'W-8', revenue: 16300000, type: 'historical' },
      { week: 'W-7', revenue: 16700000, type: 'historical' },
      { week: 'W-6', revenue: 16900000, type: 'historical' },
      { week: 'W-5', revenue: 16600000, type: 'historical' },
      { week: 'W-4', revenue: 16800000, type: 'historical' },
      { week: 'W-3', revenue: 17200000, type: 'historical' },
      { week: 'W-2', revenue: 17800000, type: 'historical' },
      { week: 'W-1', revenue: 17900000, type: 'historical' },
      { week: 'W0', revenue: 17815000, type: 'current' },
      { week: 'W+1', revenue: 18745000, type: 'forecast' },
      { week: 'W+2', revenue: 17890000, type: 'forecast' },
      { week: 'W+3', revenue: 19235000, type: 'forecast' },
      { week: 'W+4', revenue: 20150000, type: 'forecast' },
      { week: 'W+5', revenue: 18975000, type: 'forecast' }
    ];

    // Category daily data for deep dive (W+1 only for now)
    const categoryDailyData = {
      'MX Series': {
        daily: [
          { day: 'Mon', date: 'Jun 2', revenue: 562350, special: null },
          { day: 'Tue', date: 'Jun 3', revenue: 609213, special: null },
          { day: 'Wed', date: 'Jun 4', revenue: 702938, special: 'WWDC - Productivity' },
          { day: 'Thu', date: 'Jun 5', revenue: 796663, special: 'WWDC - Productivity' },
          { day: 'Fri', date: 'Jun 6', revenue: 843525, special: null },
          { day: 'Sat', date: 'Jun 7', revenue: 585781, special: null },
          { day: 'Sun', date: 'Jun 8', revenue: 585781, special: null }
        ],
        metrics: {
          avgDailyRevenue: 669464,
          peakDay: 'Friday',
          weekendDrop: '-30.5%',
          topProducts: ['MX Master 3S', 'MX Keys', 'MX Anywhere 3'],
          conversionRate: '3.2%'
        }
      },
      'G Series Gaming': {
        daily: [
          { day: 'Mon', date: 'Jun 2', revenue: 674820, special: null },
          { day: 'Tue', date: 'Jun 3', revenue: 731055, special: null },
          { day: 'Wed', date: 'Jun 4', revenue: 843525, special: null },
          { day: 'Thu', date: 'Jun 5', revenue: 955995, special: 'TSM Tournament' },
          { day: 'Fri', date: 'Jun 6', revenue: 1012230, special: 'TSM Tournament' },
          { day: 'Sat', date: 'Jun 7', revenue: 702938, special: null },
          { day: 'Sun', date: 'Jun 8', revenue: 702938, special: null }
        ],
        metrics: {
          avgDailyRevenue: 803357,
          peakDay: 'Friday',
          weekendDrop: '-30.6%',
          topProducts: ['G PRO X SUPERLIGHT 2', 'G502 X', 'G915 TKL'],
          conversionRate: '2.8%'
        }
      }
    };

    // Current selected week
    let currentWeek = 'W+1';

    // Format currency
    function formatCurrency(amount) {
      if (amount >= 1000000) {
        return '$' + (amount / 1000000).toFixed(2) + 'M';
      } else if (amount >= 1000) {
        return '$' + (amount / 1000).toFixed(0) + 'K';
      }
      return '$' + amount.toFixed(0);
    }

    // Update week content
    function updateWeekContent(week) {
      const data = forecastData[week];
      if (!data) return;

      // Update all week tabs content
      document.querySelectorAll('.tab-pane').forEach(pane => {
        const weekId = pane.id.match(/week-(\d)/);
        if (weekId) {
          const weekNum = weekId[1];
          const weekKey = 'W+' + weekNum;
          const weekData = forecastData[weekKey];
          
          if (weekData && pane.querySelector('.week-header')) {
            // Update header
            pane.querySelector('.week-header h4').textContent = `Week ${weekKey}: ${weekData.weekRange}`;
            pane.querySelector('.week-revenue').textContent = formatCurrency(weekData.revenue);
            pane.querySelector('.week-change').textContent = weekData.change + ' vs last week';
            pane.querySelector('.week-change').className = 'text-sm font-weight-bold mb-0 ' + 
              (weekData.change.startsWith('+') ? 'text-success' : 'text-danger');
            pane.querySelector('.tywin-variance').textContent = weekData.vsTypin;
          }
        }
      });
    }

    // Populate category breakdown
    function populateCategoryBreakdown(weekNum, data) {
      const container = document.getElementById(`category-breakdown-${weekNum}`);
      if (!container || !data.categories) return;

      let html = '';
      data.categories.forEach(category => {
        const changeClass = category.change.startsWith('+') ? 'text-success' : 'text-danger';
        html += `
          <div class="d-flex justify-content-between align-items-center mb-3">
            <div class="d-flex align-items-center">
              <div class="icon icon-shape icon-sm shadow text-center border-radius-md me-3" style="background-color: #2196f3;">
                <i class="material-symbols-rounded text-white text-sm">category</i>
              </div>
              <div>
                <h6 class="text-sm mb-0">${category.name}</h6>
              </div>
            </div>
            <div class="text-end">
              <p class="text-sm font-weight-bold mb-0">${formatCurrency(category.revenue)}</p>
              <p class="text-xs mb-0 ${changeClass}">${category.change}</p>
            </div>
          </div>
        `;
      });
      container.innerHTML = html;
    }

    // Create daily revenue chart
    function createDailyChart(weekNum, data) {
      const ctx = document.getElementById(`daily-chart-${weekNum}`);
      if (!ctx || !data.daily) return;

      // Destroy existing chart if any
      if (ctx.chart) {
        ctx.chart.destroy();
      }

      const chartData = {
        labels: data.daily.map(d => `${d.day}\n${d.date}`),
        datasets: [{
          label: 'Daily Revenue',
          data: data.daily.map(d => d.revenue),
          backgroundColor: data.daily.map(d => d.special ? DashboardConfig.colors.orange : DashboardConfig.colors.primary),
          borderRadius: 8,
          barThickness: 30
        }]
      };

      ctx.chart = new Chart(ctx, {
        type: 'bar',
        data: chartData,
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              display: false
            },
            tooltip: {
              callbacks: {
                label: function(context) {
                  const day = data.daily[context.dataIndex];
                  let label = formatCurrency(context.parsed.y);
                  if (day.special) {
                    label += ` (${day.special})`;
                  }
                  return label;
                }
              }
            }
          },
          scales: {
            y: {
              grid: {
                drawBorder: false,
                display: true,
                drawOnChartArea: true,
                drawTicks: false,
                borderDash: [5, 5],
                color: '#e5e5e5'
              },
              ticks: {
                display: true,
                padding: 10,
                color: '#737373',
                font: {
                  size: 12,
                  family: "Inter",
                  style: 'normal',
                  lineHeight: 2
                },
                callback: function(value) {
                  return formatCurrency(value);
                }
              }
            },
            x: {
              grid: {
                drawBorder: false,
                display: false,
                drawOnChartArea: false,
                drawTicks: false
              },
              ticks: {
                display: true,
                color: '#737373',
                padding: 10,
                font: {
                  size: 11,
                  family: "Inter",
                  style: 'normal',
                  lineHeight: 1
                }
              }
            }
          }
        }
      });
    }

    // Listen for tab changes
    document.addEventListener('DOMContentLoaded', function() {
      // Initialize first week
      updateWeekContent('W+1');
      populateCategoryBreakdown('1', forecastData['W+1']);
      createDailyChart('1', forecastData['W+1']);
      
      // Initialize category charts
      createCategoryChart('mx', categoryDailyData['MX Series']);
      createCategoryChart('gaming', categoryDailyData['G Series Gaming']);
      
      // Handle collapse icon rotation
      const collapseElements = document.querySelectorAll('[data-bs-toggle="collapse"]');
      collapseElements.forEach(element => {
        const target = document.querySelector(element.getAttribute('href'));
        const icon = element.querySelector('.material-symbols-rounded');
        
        target.addEventListener('show.bs.collapse', function() {
          icon.style.transform = 'rotate(180deg)';
          icon.style.transition = 'transform 0.3s ease';
        });
        
        target.addEventListener('hide.bs.collapse', function() {
          icon.style.transform = 'rotate(0deg)';
          icon.style.transition = 'transform 0.3s ease';
        });
      });

      // Tab change handler
      const tabLinks = document.querySelectorAll('a[data-bs-toggle="tab"]');
      tabLinks.forEach(link => {
        link.addEventListener('shown.bs.tab', function(e) {
          const target = e.target.getAttribute('href');
          
          if (target === '#weekly-progress') {
            // Create weekly progress chart
            createWeeklyProgressChart();
          } else {
            const weekMatch = target.match(/week-(\d)/);
            if (weekMatch) {
              const weekNum = weekMatch[1];
              currentWeek = 'W+' + weekNum;
              updateWeekContent(currentWeek);
              populateCategoryBreakdown(weekNum, forecastData[currentWeek]);
              createDailyChart(weekNum, forecastData[currentWeek]);
            }
          }
        });
      });
    });

    // Create category chart
    function createCategoryChart(categoryId, data) {
      const ctx = document.getElementById(`cat-chart-${categoryId}`);
      if (!ctx || !data || !data.daily) return;

      const chartData = {
        labels: data.daily.map(d => `${d.day}\n${d.date}`),
        datasets: [{
          label: 'Daily Revenue',
          data: data.daily.map(d => d.revenue),
          backgroundColor: data.daily.map(d => d.special ? DashboardConfig.colors.purple : DashboardConfig.colors.primary),
          borderRadius: 6,
          barThickness: 25
        }]
      };

      new Chart(ctx, {
        type: 'bar',
        data: chartData,
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              display: false
            },
            tooltip: {
              callbacks: {
                label: function(context) {
                  const day = data.daily[context.dataIndex];
                  let label = formatCurrency(context.parsed.y);
                  if (day.special) {
                    label += ` (${day.special})`;
                  }
                  return label;
                }
              }
            }
          },
          scales: {
            y: {
              grid: {
                drawBorder: false,
                display: true,
                drawOnChartArea: true,
                drawTicks: false,
                borderDash: [5, 5],
                color: '#e5e5e5'
              },
              ticks: {
                display: true,
                padding: 10,
                color: '#737373',
                font: {
                  size: 11,
                  family: "Inter",
                  style: 'normal',
                  lineHeight: 2
                },
                callback: function(value) {
                  return '$' + (value / 1000).toFixed(0) + 'K';
                }
              }
            },
            x: {
              grid: {
                drawBorder: false,
                display: false,
                drawOnChartArea: false,
                drawTicks: false
              },
              ticks: {
                display: true,
                color: '#737373',
                padding: 10,
                font: {
                  size: 10,
                  family: "Inter",
                  style: 'normal',
                  lineHeight: 1
                }
              }
            }
          }
        }
      });
    }

    // Create weekly progress chart
    function createWeeklyProgressChart() {
      const ctx = document.getElementById('weekly-progress-chart');
      if (!ctx) return;

      // Destroy existing chart if any
      if (ctx.chart) {
        ctx.chart.destroy();
      }

      const chartData = {
        labels: weeklyProgressData.map(d => d.week),
        datasets: [{
          label: 'Weekly Revenue',
          data: weeklyProgressData.map(d => d.revenue),
          backgroundColor: weeklyProgressData.map(d => {
            if (d.type === 'historical') return DashboardConfig.colors.gray;
            if (d.type === 'current') return DashboardConfig.colors.dark;
            return DashboardConfig.colors.primary;
          }),
          borderRadius: 4,
          barThickness: 20
        }]
      };

      ctx.chart = new Chart(ctx, {
        type: 'bar',
        data: chartData,
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              display: false
            },
            tooltip: {
              callbacks: {
                label: function(context) {
                  const week = weeklyProgressData[context.dataIndex];
                  return formatCurrency(context.parsed.y) + ' (' + week.type + ')';
                }
              }
            }
          },
          scales: {
            y: {
              grid: {
                drawBorder: false,
                display: true,
                drawOnChartArea: true,
                drawTicks: false,
                borderDash: [5, 5],
                color: '#e5e5e5'
              },
              ticks: {
                display: true,
                padding: 10,
                color: '#737373',
                font: {
                  size: 12,
                  family: "Inter",
                  style: 'normal',
                  lineHeight: 2
                },
                callback: function(value) {
                  return '$' + (value / 1000000).toFixed(0) + 'M';
                }
              }
            },
            x: {
              grid: {
                drawBorder: false,
                display: false,
                drawOnChartArea: false,
                drawTicks: false
              },
              ticks: {
                display: true,
                color: '#737373',
                padding: 10,
                font: {
                  size: 10,
                  family: "Inter",
                  style: 'normal'
                },
                autoSkip: false,
                maxRotation: 45,
                minRotation: 45
              }
            }
          }
        }
      });
    }
    
    // Initialize Material Dashboard
    // Sidenav removed - no initialization needed
  </script>
  
  <!-- Material Dashboard JS -->
  <script src="../../assets/js/material-dashboard.min.js?v=3.1.0"></script>
</body>

</html>